{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\php_projects\\\\scandiweb_store\\\\frontend\\\\src\\\\pages\\\\productDetails\\\\ProductDetails.jsx\";\nimport React, { Component } from 'react';\nimport { ApolloClient, InMemoryCache, gql } from '@apollo/client';\nimport { GET_PRODUCT_DETAILS } from '../../graphql/queries.js'; // استعلام GraphQL الخاص بك\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProductDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchProductDetails = () => {\n      const {\n        sku_id\n      } = this.state;\n      if (sku_id) {\n        this.client.query({\n          query: GET_PRODUCT_DETAILS,\n          variables: {\n            sku_id\n          } // استخدام sku_id من الحالة\n        }).then(response => {\n          this.setState({\n            product: response.data.product,\n            loading: false,\n            error: null\n          });\n        }).catch(error => {\n          this.setState({\n            loading: false,\n            error: error\n          });\n        });\n      }\n    };\n    this.state = {\n      product: null,\n      loading: true,\n      error: null,\n      sku_id: null // إضافة sku_id إلى حالة المكون\n    };\n\n    // إعداد Apollo Client\n    this.client = new ApolloClient({\n      uri: 'http://localhost/php_projects/scandiweb_store/backend/index.php',\n      // ضع رابط GraphQL API الخاص بك هنا\n      cache: new InMemoryCache()\n    });\n  }\n  componentDidMount() {\n    const param = Number(window.location.pathname.split(\"/\")[2] || null);\n    const sku_id = parseInt(param, 10);\n    if (!isNaN(sku_id) && Number.isInteger(sku_id)) {\n      this.setState({\n        sku_id\n      }, () => {\n        // بعد تحديث الحالة، استدعاء دالة fetchProductDetails لجلب البيانات\n        this.fetchProductDetails();\n      });\n    } else {\n      console.log(\"Invalid SKU ID:\", sku_id);\n      this.setState({\n        loading: false,\n        error: \"Invalid SKU ID\"\n      });\n    }\n  }\n  render() {\n    const {\n      product,\n      loading,\n      error\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }, this);\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Error occurred:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error.message || error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: product ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default ProductDetails;","map":{"version":3,"names":["React","Component","ApolloClient","InMemoryCache","gql","GET_PRODUCT_DETAILS","jsxDEV","_jsxDEV","ProductDetails","constructor","props","fetchProductDetails","sku_id","state","client","query","variables","then","response","setState","product","data","loading","error","catch","uri","cache","componentDidMount","param","Number","window","location","pathname","split","parseInt","isNaN","isInteger","console","log","render","children","fileName","_jsxFileName","lineNumber","columnNumber","message","name","description"],"sources":["C:/laragon/www/php_projects/scandiweb_store/frontend/src/pages/productDetails/ProductDetails.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { ApolloClient, InMemoryCache, gql } from '@apollo/client';\r\nimport { GET_PRODUCT_DETAILS } from '../../graphql/queries.js'; // استعلام GraphQL الخاص بك\r\n\r\nclass ProductDetails extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            product: null,\r\n            loading: true,\r\n            error: null,\r\n            sku_id: null,  // إضافة sku_id إلى حالة المكون\r\n        };\r\n\r\n        // إعداد Apollo Client\r\n        this.client = new ApolloClient({\r\n            uri: 'http://localhost/php_projects/scandiweb_store/backend/index.php', // ضع رابط GraphQL API الخاص بك هنا\r\n            cache: new InMemoryCache(),\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const param = Number(window.location.pathname.split(\"/\")[2] || null);\r\n        const sku_id = parseInt(param, 10);\r\n\r\n        if (!isNaN(sku_id) && Number.isInteger(sku_id)) {\r\n            this.setState({ sku_id }, () => {\r\n                // بعد تحديث الحالة، استدعاء دالة fetchProductDetails لجلب البيانات\r\n                this.fetchProductDetails();\r\n            });\r\n        } else {\r\n            console.log(\"Invalid SKU ID:\", sku_id);\r\n            this.setState({ loading: false, error: \"Invalid SKU ID\" });\r\n        }\r\n    }\r\n\r\n    fetchProductDetails = () => {\r\n        const { sku_id } = this.state;\r\n\r\n        if (sku_id) {\r\n            this.client\r\n                .query({\r\n                    query: GET_PRODUCT_DETAILS,\r\n                    variables: { sku_id },  // استخدام sku_id من الحالة\r\n                })\r\n                .then((response) => {\r\n                    this.setState({\r\n                        product: response.data.product,\r\n                        loading: false,\r\n                        error: null,\r\n                    });\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        loading: false,\r\n                        error: error,\r\n                    });\r\n                });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { product, loading, error } = this.state;\r\n\r\n        if (loading) return <p>Loading...</p>;\r\n\r\n        if (error) {\r\n            return (\r\n                <div>\r\n                    <p>Error occurred:</p>\r\n                    <p>{error.message || error}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {product ? (\r\n                    <div>\r\n                        <h1>{product.name}</h1>\r\n                        <p>{product.description}</p>\r\n                        {/* باقي تفاصيل المنتج */}\r\n                    </div>\r\n                ) : (\r\n                    <p>لم يتم العثور على المنتج</p>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\php_projects\\\\scandiweb_store\\\\frontend\\\\src\\\\pages\\\\productDetails\\\\ProductDetails.jsx\";\nimport React, { Component } from 'react';\nimport { gql, useQuery } from '@apollo/client';\nimport { Query } from '@apollo/client/react/components';\nimport ImageSlider from '../../components/slider/ImageSlider';\n\n// GraphQL query to get product by sku_id\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GET_PRODUCT_BY_SKU_ID = gql`\n  query getProductBySkuId($sku_id: Int) {\n    product(sku_id: $sku_id) {\n      id\n      name\n      description\n      galleries {\n        image_url\n      }\n      prices {\n        currency_symbol\n        amount\n      }\n      attributes {\n        name\n        items {\n          value\n        }\n      }\n    }\n  }\n`;\nclass ProductDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      skuId: null\n    };\n  }\n  componentDidMount() {\n    const param = parseInt(window.location.pathname.split('/')[2], 10);\n    console.log(param);\n    if (!isNaN(param)) {\n      this.setState({\n        skuId: Number(param)\n      });\n    }\n    console.log(this.state.skuId);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.skuId !== this.state.skuId) {\n      const param = parseInt(window.location.pathname.split('/')[2], 10);\n      console.log('Updated skuId:', this.state.skuId);\n      this.setState({\n        skuId: Number(param)\n      });\n      console.log(typeof this.state.skuId);\n    }\n  }\n\n  // fetchSkuId() {\n\n  //     if (!isNaN(param)) {\n  //         this.setState({ skuId: param }, () => {\n  //             this.fetchProduct(); // Fetch product after setting skuId\n  //         });\n  //     } else {\n  //         this.setState({ error: \"SKU ID is not valid.\", loading: false });\n  //     }\n  // }\n\n  // async fetchProduct() {\n  //     const { skuId } = this.state;\n  //     console.log(\"SKU ID before query:\", skuId); // تسجيل قبل الاستعلام\n\n  //     if (skuId) {\n  //         try {\n\n  //             this.setState({\n\n  //                 loading: false,\n  //             });\n  //         } catch (error) {\n  //             this.setState({\n  //                 error: error.message,\n  //                 loading: false,\n  //             });\n  //         }\n  //     } else {\n  //         this.setState({ loading: false, error: \"SKU ID is not valid.\" });\n  //     }\n  // }\n\n  render() {\n    const {\n      loading,\n      error,\n      product\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 27\n    }, this);\n    const {\n      skuId\n    } = this.state;\n    if (!skuId) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading SKU ID...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 28\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productDetails d-flex justify-content-around flex-wrap my-5\",\n          children: /*#__PURE__*/_jsxDEV(Query, {\n            query: GET_PRODUCT_BY_SKU_ID,\n            variables: {\n              sku_id: Number(skuId)\n            },\n            children: ({\n              loading,\n              error,\n              data\n            }) => {\n              console.log(error);\n              if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 53\n              }, this);\n              if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Error: \", error.message]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 51\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default ProductDetails;\n{/* <div className='productDetailsGallery'>\r\n                            <ImageSlider images={product.galleries.map(g => g.image_url)} />\r\n                        </div>\r\n                        <div className='productDetailsContent'>\r\n                            <h3>{product.name}</h3>\r\n                            {\r\n                                product.attributes.map((attrItem) => {\r\n                                    let content;\r\n                                    switch (attrItem.name) {\r\n                                        case \"Color\":\r\n                                            content = (\r\n                                                <div className='productColors' key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    <div className=\"d-flex align-items-center w-75 sizesContainer my-2\">\r\n                                                        {attrItem.items.map((colorItem) => (\r\n                                                            <label className=\"containerBlock colorItem\" style={{ background: colorItem.value }} key={colorItem.value}>\r\n                                                                <input type=\"radio\" name=\"color\" value={colorItem.value} />\r\n                                                                <span className=\"checkmark\"></span>\r\n                                                            </label>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                        default:\r\n                                            content = (\r\n                                                <div className=\"productSizes my-2\" key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    {attrItem.items.map((item) => (\r\n                                                        <label className=\"containerBlock\" key={item.value}>\r\n                                                            <input type=\"radio\" name={attrItem.name} value={item.value} />\r\n                                                            <span className=\"checkmark\">{item.value}</span>\r\n                                                        </label>\r\n                                                    ))}\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                    }\r\n \n                                    return content;\r\n                                })\r\n                            }\r\n \n                            <div className='productSizes'>\r\n                                <p className=''>PRICE:</p>\r\n                                <p className=\"priceNumber\">\r\n                                    {product.prices[0].currency_symbol}{product.prices[0].amount}\r\n                                </p>\r\n                            </div>\r\n \n                            <div className='my-4'>\r\n                                <button className='cartBtn' type='submit'>ADD TO CART</button>\r\n                            </div>\r\n \n                            <div className='productDet'>\r\n                                <p className=''>{product.description}</p>\r\n                            </div>\r\n                        </div>*/}","map":{"version":3,"names":["React","Component","gql","useQuery","Query","ImageSlider","jsxDEV","_jsxDEV","GET_PRODUCT_BY_SKU_ID","ProductDetails","constructor","props","state","skuId","componentDidMount","param","parseInt","window","location","pathname","split","console","log","isNaN","setState","Number","componentDidUpdate","prevProps","prevState","render","loading","error","product","children","fileName","_jsxFileName","lineNumber","columnNumber","className","query","variables","sku_id","data","message"],"sources":["C:/laragon/www/php_projects/scandiweb_store/frontend/src/pages/productDetails/ProductDetails.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { gql, useQuery } from '@apollo/client';\r\nimport { Query } from '@apollo/client/react/components';\r\nimport ImageSlider from '../../components/slider/ImageSlider';\r\n\r\n// GraphQL query to get product by sku_id\r\nconst GET_PRODUCT_BY_SKU_ID = gql`\r\n  query getProductBySkuId($sku_id: Int) {\r\n    product(sku_id: $sku_id) {\r\n      id\r\n      name\r\n      description\r\n      galleries {\r\n        image_url\r\n      }\r\n      prices {\r\n        currency_symbol\r\n        amount\r\n      }\r\n      attributes {\r\n        name\r\n        items {\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nclass ProductDetails extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            skuId: null,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const param = parseInt(window.location.pathname.split('/')[2], 10);\r\n        console.log(param)\r\n        if (!isNaN(param)) {\r\n            this.setState({ skuId: Number(param) });\r\n        }\r\n        console.log(this.state.skuId);\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if (prevState.skuId !== this.state.skuId) {\r\n            const param = parseInt(window.location.pathname.split('/')[2], 10);\r\n            console.log('Updated skuId:', this.state.skuId);\r\n            this.setState({ skuId: Number(param) });\r\n            console.log(typeof (this.state.skuId));\r\n        }\r\n\r\n\r\n    }\r\n\r\n    // fetchSkuId() {\r\n\r\n\r\n\r\n    //     if (!isNaN(param)) {\r\n    //         this.setState({ skuId: param }, () => {\r\n    //             this.fetchProduct(); // Fetch product after setting skuId\r\n    //         });\r\n    //     } else {\r\n    //         this.setState({ error: \"SKU ID is not valid.\", loading: false });\r\n    //     }\r\n    // }\r\n\r\n    // async fetchProduct() {\r\n    //     const { skuId } = this.state;\r\n    //     console.log(\"SKU ID before query:\", skuId); // تسجيل قبل الاستعلام\r\n\r\n    //     if (skuId) {\r\n    //         try {\r\n\r\n\r\n    //             this.setState({\r\n\r\n    //                 loading: false,\r\n    //             });\r\n    //         } catch (error) {\r\n    //             this.setState({\r\n    //                 error: error.message,\r\n    //                 loading: false,\r\n    //             });\r\n    //         }\r\n    //     } else {\r\n    //         this.setState({ loading: false, error: \"SKU ID is not valid.\" });\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        const { loading, error, product } = this.state;\r\n\r\n        if (loading) return <p>Loading...</p>;\r\n        if (error) return <p>Error: {error}</p>;\r\n\r\n        const { skuId } = this.state;\r\n        if (!skuId) return <p>Loading SKU ID...</p>;\r\n\r\n        return (\r\n            <div>\r\n                <div className='container'>\r\n\r\n\r\n                    <div className='productDetails d-flex justify-content-around flex-wrap my-5'>\r\n                        <Query query={GET_PRODUCT_BY_SKU_ID} variables={{ sku_id: Number(skuId) }}>\r\n                            {({ loading, error, data }) => {\r\n                                console.log(error);\r\n                                if (loading) return <p>Loading...</p>;\r\n                                if (error) return <p>Error: {error.message}</p>;\r\n                            }}\r\n\r\n                        </Query>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductDetails;\r\n\r\n\r\n{/* <div className='productDetailsGallery'>\r\n                            <ImageSlider images={product.galleries.map(g => g.image_url)} />\r\n                        </div>\r\n                        <div className='productDetailsContent'>\r\n                            <h3>{product.name}</h3>\r\n                            {\r\n                                product.attributes.map((attrItem) => {\r\n                                    let content;\r\n                                    switch (attrItem.name) {\r\n                                        case \"Color\":\r\n                                            content = (\r\n                                                <div className='productColors' key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    <div className=\"d-flex align-items-center w-75 sizesContainer my-2\">\r\n                                                        {attrItem.items.map((colorItem) => (\r\n                                                            <label className=\"containerBlock colorItem\" style={{ background: colorItem.value }} key={colorItem.value}>\r\n                                                                <input type=\"radio\" name=\"color\" value={colorItem.value} />\r\n                                                                <span className=\"checkmark\"></span>\r\n                                                            </label>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                        default:\r\n                                            content = (\r\n                                                <div className=\"productSizes my-2\" key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    {attrItem.items.map((item) => (\r\n                                                        <label className=\"containerBlock\" key={item.value}>\r\n                                                            <input type=\"radio\" name={attrItem.name} value={item.value} />\r\n                                                            <span className=\"checkmark\">{item.value}</span>\r\n                                                        </label>\r\n                                                    ))}\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                    }\r\n\r\n                                    return content;\r\n                                })\r\n                            }\r\n\r\n                            <div className='productSizes'>\r\n                                <p className=''>PRICE:</p>\r\n                                <p className=\"priceNumber\">\r\n                                    {product.prices[0].currency_symbol}{product.prices[0].amount}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className='my-4'>\r\n                                <button className='cartBtn' type='submit'>ADD TO CART</button>\r\n                            </div>\r\n\r\n                            <div className='productDet'>\r\n                                <p className=''>{product.description}</p>\r\n                            </div>\r\n                        </div>*/}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
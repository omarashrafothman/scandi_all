{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\php_projects\\\\scandiweb_store\\\\frontend\\\\src\\\\pages\\\\productDetails\\\\ProductDetails.jsx\";\nimport React, { Component } from 'react';\nimport { gql } from '@apollo/client';\nimport { Query } from '@apollo/client/react/components';\nimport ImageSlider from '../../components/slider/ImageSlider';\n\n// GraphQL query to get product by sku_id\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GET_PRODUCT_BY_SKU_ID = gql`\n  query getProductBySkuId($sku_id: Int!) {\n    product(sku_id: $sku_id) {\n      id\n      name\n      description\n      galleries {\n        image_url\n      }\n      prices {\n        currency_symbol\n        amount\n      }\n      attributes {\n        name\n        items {\n          value\n        }\n      }\n    }\n  }\n`;\nclass ProductDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skuId: null\n    };\n  }\n  componentDidMount() {\n    const param = parseInt(window.location.pathname.split('/')[2]);\n    if (!isNaN(param)) {\n      this.setState({\n        skuId: param\n      });\n    }\n  }\n\n  // fetchSkuId() {\n\n  //     if (!isNaN(param)) {\n  //         this.setState({ skuId: param }, () => {\n  //             this.fetchProduct(); // Fetch product after setting skuId\n  //         });\n  //     } else {\n  //         this.setState({ error: \"SKU ID is not valid.\", loading: false });\n  //     }\n  // }\n\n  // async fetchProduct() {\n  //     const { skuId } = this.state;\n  //     console.log(\"SKU ID before query:\", skuId); // تسجيل قبل الاستعلام\n\n  //     if (skuId) {\n  //         try {\n\n  //             this.setState({\n\n  //                 loading: false,\n  //             });\n  //         } catch (error) {\n  //             this.setState({\n  //                 error: error.message,\n  //                 loading: false,\n  //             });\n  //         }\n  //     } else {\n  //         this.setState({ loading: false, error: \"SKU ID is not valid.\" });\n  //     }\n  // }\n\n  render() {\n    const {\n      loading,\n      error,\n      product\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 27\n    }, this);\n    const {\n      skuId\n    } = this.state;\n    if (!skuId) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading SKU ID...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 28\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productDetails d-flex justify-content-around flex-wrap my-5\",\n          children: /*#__PURE__*/_jsxDEV(Query, {\n            query: GET_PRODUCT_BY_SKU_ID,\n            variables: {\n              sku_id: this.state.skuId\n            },\n            children: ({\n              loading,\n              error,\n              data\n            }) => {\n              if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 53\n              }, this);\n              if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Error: \", error.message]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 51\n              }, this);\n              console.log(this.state.skuId);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default ProductDetails;\n{/* <div className='productDetailsGallery'>\r\n                            <ImageSlider images={product.galleries.map(g => g.image_url)} />\r\n                        </div>\r\n                        <div className='productDetailsContent'>\r\n                            <h3>{product.name}</h3>\r\n                            {\r\n                                product.attributes.map((attrItem) => {\r\n                                    let content;\r\n                                    switch (attrItem.name) {\r\n                                        case \"Color\":\r\n                                            content = (\r\n                                                <div className='productColors' key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    <div className=\"d-flex align-items-center w-75 sizesContainer my-2\">\r\n                                                        {attrItem.items.map((colorItem) => (\r\n                                                            <label className=\"containerBlock colorItem\" style={{ background: colorItem.value }} key={colorItem.value}>\r\n                                                                <input type=\"radio\" name=\"color\" value={colorItem.value} />\r\n                                                                <span className=\"checkmark\"></span>\r\n                                                            </label>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                        default:\r\n                                            content = (\r\n                                                <div className=\"productSizes my-2\" key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    {attrItem.items.map((item) => (\r\n                                                        <label className=\"containerBlock\" key={item.value}>\r\n                                                            <input type=\"radio\" name={attrItem.name} value={item.value} />\r\n                                                            <span className=\"checkmark\">{item.value}</span>\r\n                                                        </label>\r\n                                                    ))}\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                    }\r\n \n                                    return content;\r\n                                })\r\n                            }\r\n \n                            <div className='productSizes'>\r\n                                <p className=''>PRICE:</p>\r\n                                <p className=\"priceNumber\">\r\n                                    {product.prices[0].currency_symbol}{product.prices[0].amount}\r\n                                </p>\r\n                            </div>\r\n \n                            <div className='my-4'>\r\n                                <button className='cartBtn' type='submit'>ADD TO CART</button>\r\n                            </div>\r\n \n                            <div className='productDet'>\r\n                                <p className=''>{product.description}</p>\r\n                            </div>\r\n                        </div>*/}","map":{"version":3,"names":["React","Component","gql","Query","ImageSlider","jsxDEV","_jsxDEV","GET_PRODUCT_BY_SKU_ID","ProductDetails","constructor","args","state","skuId","componentDidMount","param","parseInt","window","location","pathname","split","isNaN","setState","render","loading","error","product","children","fileName","_jsxFileName","lineNumber","columnNumber","className","query","variables","sku_id","data","message","console","log"],"sources":["C:/laragon/www/php_projects/scandiweb_store/frontend/src/pages/productDetails/ProductDetails.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { gql } from '@apollo/client';\r\nimport { Query } from '@apollo/client/react/components';\r\nimport ImageSlider from '../../components/slider/ImageSlider';\r\n\r\n// GraphQL query to get product by sku_id\r\nconst GET_PRODUCT_BY_SKU_ID = gql`\r\n  query getProductBySkuId($sku_id: Int!) {\r\n    product(sku_id: $sku_id) {\r\n      id\r\n      name\r\n      description\r\n      galleries {\r\n        image_url\r\n      }\r\n      prices {\r\n        currency_symbol\r\n        amount\r\n      }\r\n      attributes {\r\n        name\r\n        items {\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nclass ProductDetails extends Component {\r\n    state = {\r\n        skuId: null,\r\n\r\n    };\r\n\r\n    componentDidMount() {\r\n        const param = parseInt(window.location.pathname.split('/')[2]);\r\n        if (!isNaN(param)) {\r\n            this.setState({ skuId: param });\r\n        }\r\n\r\n    }\r\n\r\n    // fetchSkuId() {\r\n\r\n\r\n\r\n    //     if (!isNaN(param)) {\r\n    //         this.setState({ skuId: param }, () => {\r\n    //             this.fetchProduct(); // Fetch product after setting skuId\r\n    //         });\r\n    //     } else {\r\n    //         this.setState({ error: \"SKU ID is not valid.\", loading: false });\r\n    //     }\r\n    // }\r\n\r\n    // async fetchProduct() {\r\n    //     const { skuId } = this.state;\r\n    //     console.log(\"SKU ID before query:\", skuId); // تسجيل قبل الاستعلام\r\n\r\n    //     if (skuId) {\r\n    //         try {\r\n\r\n\r\n    //             this.setState({\r\n\r\n    //                 loading: false,\r\n    //             });\r\n    //         } catch (error) {\r\n    //             this.setState({\r\n    //                 error: error.message,\r\n    //                 loading: false,\r\n    //             });\r\n    //         }\r\n    //     } else {\r\n    //         this.setState({ loading: false, error: \"SKU ID is not valid.\" });\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        const { loading, error, product } = this.state;\r\n\r\n        if (loading) return <p>Loading...</p>;\r\n        if (error) return <p>Error: {error}</p>;\r\n\r\n        const { skuId } = this.state;\r\n        if (!skuId) return <p>Loading SKU ID...</p>;\r\n\r\n        return (\r\n            <div>\r\n                <div className='container'>\r\n\r\n\r\n                    <div className='productDetails d-flex justify-content-around flex-wrap my-5'>\r\n                        <Query query={GET_PRODUCT_BY_SKU_ID} variables={{ sku_id: this.state.skuId }}>\r\n\r\n                            {({ loading, error, data }) => {\r\n                                if (loading) return <p>Loading...</p>;\r\n                                if (error) return <p>Error: {error.message}</p>;\r\n                                console.log(this.state.skuId)\r\n\r\n                            }}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        </Query>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductDetails;\r\n\r\n\r\n{/* <div className='productDetailsGallery'>\r\n                            <ImageSlider images={product.galleries.map(g => g.image_url)} />\r\n                        </div>\r\n                        <div className='productDetailsContent'>\r\n                            <h3>{product.name}</h3>\r\n                            {\r\n                                product.attributes.map((attrItem) => {\r\n                                    let content;\r\n                                    switch (attrItem.name) {\r\n                                        case \"Color\":\r\n                                            content = (\r\n                                                <div className='productColors' key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    <div className=\"d-flex align-items-center w-75 sizesContainer my-2\">\r\n                                                        {attrItem.items.map((colorItem) => (\r\n                                                            <label className=\"containerBlock colorItem\" style={{ background: colorItem.value }} key={colorItem.value}>\r\n                                                                <input type=\"radio\" name=\"color\" value={colorItem.value} />\r\n                                                                <span className=\"checkmark\"></span>\r\n                                                            </label>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                        default:\r\n                                            content = (\r\n                                                <div className=\"productSizes my-2\" key={attrItem.name}>\r\n                                                    <p>{attrItem.name}:</p>\r\n                                                    {attrItem.items.map((item) => (\r\n                                                        <label className=\"containerBlock\" key={item.value}>\r\n                                                            <input type=\"radio\" name={attrItem.name} value={item.value} />\r\n                                                            <span className=\"checkmark\">{item.value}</span>\r\n                                                        </label>\r\n                                                    ))}\r\n                                                </div>\r\n                                            );\r\n                                            break;\r\n                                    }\r\n\r\n                                    return content;\r\n                                })\r\n                            }\r\n\r\n                            <div className='productSizes'>\r\n                                <p className=''>PRICE:</p>\r\n                                <p className=\"priceNumber\">\r\n                                    {product.prices[0].currency_symbol}{product.prices[0].amount}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className='my-4'>\r\n                                <button className='cartBtn' type='submit'>ADD TO CART</button>\r\n                            </div>\r\n\r\n                            <div className='productDet'>\r\n                                <p className=''>{product.description}</p>\r\n                            </div>\r\n                        </div>*/}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}